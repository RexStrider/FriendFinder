<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-escores[u]iv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>

    <script src="https://code.jquery.com/jquery.js"></script>
</head>
<body>

    <section id="match">

    </section>

    <h1>This survey is a work in progress...</h1>

    <form>
        <section>
            <label>Enter your name</label>
            <input type="input" name="name">
        </section>
        <section>
            <label>Upload a picture of yourself</label>
            <input type="text" name="photo">
        </section>
        <section>
            <label>Dogs or cats?</label>
            <input type="radio" name="scores[0]" value="1" checked> only dogs
            <input type="radio" name="scores[0]" value="2"> prefers dogs
            <input type="radio" name="scores[0]" value="3"> likes both
            <input type="radio" name="scores[0]" value="4"> prefers cats
            <input type="radio" name="scores[0]" value="5"> only cats
        </section>
        <section>
            <label>Vegies or meat?</label>
            <input type="radio" name="scores[1]" value="1" checked> only vegies
            <input type="radio" name="scores[1]" value="2"> prefers vegies
            <input type="radio" name="scores[1]" value="3"> likes both
            <input type="radio" name="scores[1]" value="4"> prefers meat
            <input type="radio" name="scores[1]" value="5"> only meat
        </section>
        <section>
            <label>Liberal or conservative?</label>
            <input type="radio" name="scores[2]" value="1" checked> liberal all the way
            <input type="radio" name="scores[2]" value="2"> mostly liberal
            <input type="radio" name="scores[2]" value="3"> both
            <input type="radio" name="scores[2]" value="4"> mostly conservative
            <input type="radio" name="scores[2]" value="5"> conservative all the way
        </section>
        <section>
            <label>Oranges or apples?</label>
            <input type="radio" name="scores[3]" value="1" checked> only the apples
            <input type="radio" name="scores[3]" value="2"> apples are good
            <input type="radio" name="scores[3]" value="3"> both are good
            <input type="radio" name="scores[3]" value="4"> oranges are tasty
            <input type="radio" name="scores[3]" value="5"> eating oranges all day
        </section>
        <section>
            <label>Windows or Mac</label>
            <input type="radio" name="scores[4]" value="1" checked> Windows is the OS for me
            <input type="radio" name="scores[4]" value="2"> I prefer Windows
            <input type="radio" name="scores[4]" value="3"> I'll work with Windows, Mac, or even Linux
            <input type="radio" name="scores[4]" value="4"> Macs are my preference
            <input type="radio" name="scores[4]" value="5"> I only use Macs
        </section>
        <section>
            <label>Chocolate or peanut butter</label>
            <input type="radio" name="scores[5]" value="1" checked> Chocolate is my favorite!!!1
            <input type="radio" name="scores[5]" value="2"> Chocolate is my preference
            <input type="radio" name="scores[5]" value="3"> Peanut butter chocolate swirl!
            <input type="radio" name="scores[5]" value="4"> I gotta go with the peanut butter
            <input type="radio" name="scores[5]" value="5"> Peanut Butter all the way
        </section>
        <section>
            <label>Which color do you prefer?</label>
            <input type="radio" name="scores[6]" value="1" checked> yellow
            <input type="radio" name="scores[6]" value="2"> orange
            <input type="radio" name="scores[6]" value="3"> red
            <input type="radio" name="scores[6]" value="4"> purple
            <input type="radio" name="scores[6]" value="5"> blue
        </section>
        <section>
            <label>Fantasy or Science Fiction?</label>
            <input type="radio" name="scores[7]" value="1" checked> Fantasy genre rules!
            <input type="radio" name="scores[7]" value="2"> I prefer Fantasy
            <input type="radio" name="scores[7]" value="3"> I like both
            <input type="radio" name="scores[7]" value="4"> I prefer Science Fiction
            <input type="radio" name="scores[7]" value="5"> Science Fiction is the best!
        </section>
        <section>
            <label>Marvel or DC?</label>
            <input type="radio" name="scores[8]" value="1" checked> Marvel is the coolest
            <input type="radio" name="scores[8]" value="2"> Marvel is preferred
            <input type="radio" name="scores[8]" value="3"> I like both
            <input type="radio" name="scores[8]" value="4"> DC is my prefernece
            <input type="radio" name="scores[8]" value="5"> DC for sure
        </section>
        <section>
            <label>Pirates or ninjas?</label>
            <input type="radio" name="scores[9]" value="1" checked> arrrrr you kidding me? Pirates are the best!
            <input type="radio" name="scores[9]" value="2"> Pirates are cool
            <input type="radio" name="scores[9]" value="3"> Both are ok...
            <input type="radio" name="scores[9]" value="4"> Ninjas are awesome
            <input type="radio" name="scores[9]" value="5"> Ninjas forever!!!1
        </section>
        <section>
            <input type="submit" value="Submit">
        </section>
    </form>

    <script>
        $(`form`).submit( function(event) {
            event.preventDefault();

            console.log($(this).serialize());

            $.ajax({
                url: "/api/friends",
                method: "POST",
                data: $(this).serialize()
            })
            .then(result => {
                console.log(result);

                const header = document.createElement('h1');
                const name = document.createElement('p');
                const image = new Image(200, 200);

                header.textContent = `You've met your match!`;
                name.textContent = result.name;
                image.src = result.photo;

                document.getElementById(`match`)
                .append(header, name, image);
            },
            (jqXHR, status) => {
                console.log(status);
            });
        });
    </script>
</body>
</html>